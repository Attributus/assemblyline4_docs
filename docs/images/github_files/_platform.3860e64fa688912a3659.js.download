(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{1067:function(t,e,r){"use strict";r(875)},1068:function(t,e,r){var n=r(6)(!1);n.push([t.i,'@media (min-width:1024px){.mobile-only[data-v-071b95af]{display:none!important}}@media (max-width:1023px){.desktop-only[data-v-071b95af]{display:none!important}}@-webkit-keyframes spin-data-v-071b95af{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spin-data-v-071b95af{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.app-header[data-v-071b95af]{padding-bottom:12px}.is-loading[data-v-071b95af]{position:relative;height:100px}.is-loading[data-v-071b95af]:after{content:"";position:absolute;top:50%;left:50%;margin-top:-1.5rem;margin-left:-1.5rem;width:3rem;height:3rem;border-radius:50%;border:2px solid hsla(0,0%,66.7%,.2);border-top-color:hsla(0,0%,66.7%,.8);-webkit-animation:spin-data-v-071b95af 1s linear infinite;animation:spin-data-v-071b95af 1s linear infinite}',""]),t.exports=n},4049:function(t,e,r){"use strict";r.r(e);r(11),r(12),r(13),r(14);var n=r(20),o=r(0),c=r(5),l=(r(24),r(25),r(71),r(30),r(16),r(342),r(29),r(10),r(18),r(4)),d=r(871),m=r(39),f=r(169),h=r(803),v={name:"PackPlatformPage",components:{ShutterstockAds:f.a,searchNothingFound:h.a},props:{category:{},pack:{},platform:{}},data:function(){return{activeGrid:void 0}},methods:{activateGrid:function(t){this.activeGrid=t}}},y=r(1),w=Object(y.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.category?t._l(t.category.subcategory,(function(e,n){return r("div",{key:n,class:{"category-section":0!==n}},[r("h6",{staticClass:"app-page-section-title"},[t._v("\n        "+t._s(e.name)+"\n      ")]),t._v(" "),r("icon-grid",{attrs:{id:e.name,icons:e.icons,action:"select","active-grid":t.activeGrid,"ads-params-two":1===n?{rowAds:3}:{}},on:{activate:t.activateGrid}}),t._v(" "),0===n?r("client-only",[t.pack&&t.platform?r("div",{staticClass:"ads"},[r("ShutterstockAds",{attrs:{"ad-params":{query:t.pack.name["en-US"]+" "+t.platform.title}}})],1):t._e()]):t._e()],1)})):r("search-nothing-found")],2)}),[],!1,null,null,null).exports,k=r(782),x=r(805);function P(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function A(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):P(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function O(t){return C.apply(this,arguments)}function C(){return(C=Object(c.a)(regeneratorRuntime.mark((function t(e){var r,n,o,c,l,d,m,f,h,path,v,content,y,w,k;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.app,n=e.params,o=e.store,c=e.route,l=L({app:r,store:o,term:n.term})){t.next=4;break}return t.abrupt("return",null);case 4:return o.dispatch("setPack",l.code),d=o.state.filters.isAnimated,m=A(A({},n),{},{page:1,platform:o.state.platform.apiCode,platformName:o.state.platform.title,pack:l.code,isAnimated:d}),j({app:r,params:n,store:o}),f=c.matched[0].path,h=(h=f.indexOf(":"))>0?h:f.length,path=f.substring(0,h),x.b.translateHreflang({app:r,store:o,path:path,locales:r.i18n.locales.filter((function(t){return t.code!==r.i18n.locale})),routeParams:c.params,translations:l.name,isPack:!0}),v={isFound:!1},content={},y=!1,t.prev=16,t.next=19,_({app:r,params:m,store:o});case 19:return v=t.sent,y=(null===(w=v.category)||void 0===w||null===(k=w.subcategory)||void 0===k?void 0:k.length)>=3,t.next=23,S({app:r,params:m});case 23:content=t.sent,t.next=28;break;case 26:t.prev=26,t.t0=t.catch(16);case 28:return t.abrupt("return",A(A(A(A({},v),n),content),{},{isSubcategoryIcons:y,searchTemplate:"category"}));case 29:case"end":return t.stop()}}),t,null,[[16,26]])})))).apply(this,arguments)}function L(t){var e=t.app,r=t.store,n=t.term.replace(/-/g," ").replace(/[/\\^$*+?.()|[\]{}]/g,""),o=new RegExp("^".concat(n,"$"),"i"),c=e.i18n.localeProperties.iso;return r.state.appInfo.packs.find((function(t){return o.test(t.name[c])}))}function _(t){return T.apply(this,arguments)}function T(){return(T=Object(c.a)(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.params,n=e.store,t.abrupt("return",new Promise((function(t,e){n.dispatch("getPack",{pack:r.pack,platform:r.platform,page:r.page,isAnimated:r.isAnimated}).then(function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(r){var n,o,c,l,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=r.success,l=!!r&&!1,d=c&&(null===(n=r.category)||void 0===n||null===(o=n.subcategory)||void 0===o?void 0:o.length),m=l&&!1===c,t(A(A({},r),{},{isFound:d,isLoaded:l,isLoadedAll:m}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){e(t)})).catch((function(t){e(t)}))})).catch((function(t){throw console.error(t),t})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(t){I({app:t.app,params:t.params,store:t.store})}function S(t){return F.apply(this,arguments)}function F(){return(F=Object(c.a)(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.app,n=e.params,t.next=3,G({app:r,params:n});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function R(t){return $.apply(this,arguments)}function $(){return($=Object(c.a)(regeneratorRuntime.mark((function t(e){var r,n,o,c,l,d,m,f,h,path,content;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.app,n=e.params,o=e.store,c=e.route,l=o.state.filters.isAnimated,d=A(A({},n),{},{page:1,platform:o.state.platform.apiCode,platformName:o.state.platform.title,isAnimated:l}),t.next=5,N({app:r,params:d,store:o});case 5:return(m=t.sent).success&&m.icons[0]&&Object.assign(d,{platform:m.icons[0].platform,commonName:m.icons[0].commonName}),I({app:r,params:d,store:o,needCanonical:m.isFound}),m.isFound?(f=c.matched[0].path,h=(h=f.indexOf(":"))>0?h:f.length,path=f.substring(0,h),x.b.translateHreflang({app:r,store:o,path:path,locales:r.i18n.locales.filter((function(t){return t.code!==r.i18n.locale})),routeParams:c.params,translations:m.searchTranslations})):o.dispatch("deleteHreflang"),t.next=11,G({app:r,params:A(A({},d),{},{amount:m.countAll})});case 11:return content=t.sent,t.abrupt("return",A(A(A(A({},m),content),n),{},{searchTemplate:"icons"}));case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(t){return E.apply(this,arguments)}function E(){return(E=Object(c.a)(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.params,n=e.store,t.abrupt("return",new Promise((function(t,e){n.dispatch("search",{term:"".concat(r.beautyTerm).toLowerCase(),platform:r.platform,page:r.page,isAnimated:r.isAnimated}).then(function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(r){var n,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.success){e.next=3;break}throw r;case 3:o=!!r&&!1,c=r.icons.length,l=r.success&&r.countAll<=c,t(A(A({},r),{},{isFound:n&&c>0,isLoaded:o,isLoadedAll:l}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){e(t)}))})).catch((function(t){throw console.error(t),t})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function I(t){var e,r=t.app,n=t.params,o=t.store,c=t.needCanonical,l=void 0===c||c,style=o.state.platform.title,d=r.$hostUrl||"https://icons8.com",m=(null===(e=o.state.filters.colorsList[n.parsedParams.color])||void 0===e?void 0:e.value)||"000000",f=o.state.seo.data.link,h="static"===n.parsedParams.animation&&!1;x.b.updateHreflang(f,{removeStatic:h});var v={descriptionPage:x.b.getDescriptionPage(r.i18n,n),title:x.b.getTitleMeta(r.i18n,A(A({},n),{},{style:style})),description:x.b.getDescriptionMeta(r.i18n,A(A({},n),{},{style:style})),image:x.b.getImageMeta(A(A({},n),{},{color:m}))};l&&(v.canonical=x.b.getCanonicalUrl(d,n)),o.dispatch("updateSEO",v)}function G(t){return U.apply(this,arguments)}function U(){return(U=Object(c.a)(regeneratorRuntime.mark((function t(e){var r,n,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.app,n=e.params,o=r.i18n.t("WEB_APP.SEO.SEARCH.SUBTITLE_PLATFORMS",{amount:n.amount,term:n.beautyTerm,platform:n.platformName}),t.next=4,Object(d.a)({term:n.term,limit:20,lang:r.i18n.localeProperties.code,platform:"all"});case 4:return c=t.sent,t.abrupt("return",{pageSubtitle:o,similarTags:c});case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var D={name:"SearchPage",components:{packPlatformPage:w,searchNothingFound:h.a,requestIcon:k.a},layout:"app",scrollToTop:!0,data:function(){return{term:"",icons:[],countAll:0,isFound:!1,page:1,isLoaded:!1,isLoadedAll:!1,parsedParams:null,searchTemplate:null,category:null,pageSubtitle:null,similarTags:null}},computed:A(A({},Object(l.e)({isPageLoaded:function(t){return t.ui.isPageLoaded},platform:function(t){return t.platform},user:function(t){return t.auth.user},pack:function(t){return t.pack},packs:function(t){return t.appInfo.packs},colors:function(t){return t.filters.colorsList},isAnimated:function(t){return t.filters.isAnimated}})),{},{crossLinkText:function(){return this.$t("REQUEST_ICONS.WEBAPP_REQUEST.CROSS_LINK",{term:this.term,termText:this.beautyTerm})}}),watch:{isPageLoaded:function(t){t&&this.sendGA()},user:function(t){t&&this.$analytics.trackSearchEvent({userId:t.id,platform:this.platform.apiCode,isPaidUser:!!t.activeLicense,type:"icon",term:this.term,ip:t.ip})}},asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var r,n,o,c,l,d,f,h,v,y,w,k,P;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.app,n=t.params,o=t.store,c=t.redirect,l=t.res,d=t.route,f=r.$utils.escapeSpecialChars(r.$utils.normalizeValue(n.term.replace(/[<>"]/g,"").slice(0,50))),h=Object(m.a)(n.platform),o.dispatch("setPlatform",h.$rootPath),o.state.platform.apiCode||c(301,encodeURI("/icons/set/".concat(n.term))),v=x.b.beautifyMadeIn(r.$utils.uppercaseFirstLetter(r.$utils.prettifyValue(f))).replace(/&apos;/g,"'"),y=null,"animated"===h.animation&&(y=!0),"static"===h.animation&&(y=!1),null!==y&&o.dispatch("setFilterIsAnimated",y),w={term:f,beautyTerm:v,parsedParams:h},e.next=14,O({app:r,params:w,store:o,route:d});case 14:if(!(k=e.sent)||!k.isSubcategoryIcons){e.next=17;break}return e.abrupt("return",k);case 17:return e.next=19,R({app:r,params:w,store:o,redirect:c,route:d});case 19:return P=e.sent,l&&!P.isFound&&(l.statusCode=404),e.abrupt("return",P);case 22:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;this.$nextTick((function(){setTimeout((function(){t.isLoaded=!0}),500)})),this.setFilters(),this.isPageLoaded&&this.sendGA()},methods:A(A({},Object(l.b)(["setSearchColor","setFilterColor","setFilterColorGradient"])),{},{fetchNext:function(t){var e=this.searchTemplate;"icons"===e&&this.fetchNextIcons(t),"category"===e&&this.fetchNextCategory(t)},fetchNextIcons:function(t){var e,r=this;if(this.icons.length>=this.countAll)return t.complete(),void(this.isLoadedAll=!0);N({store:this.$store,params:{term:this.term,beautyTerm:"".concat(this.beautyTerm).toLowerCase(),page:this.page+1,isAnimated:null!==(e=this.isAnimated)&&void 0!==e?e:null}}).then((function(e){if(!e.success)throw e;e.icons.length?(r.icons=r.icons.concat(e.icons),r.page=r.page+1,t.loaded()):(t.complete(),r.isLoadedAll=!0)})).catch((function(e){t.complete(),r.isLoadedAll=!0,console.error("fetchNextIcons",e)}))},fetchNextCategory:function(t){var e,r=this;this.isLoadedAll?t.complete():_({store:this.$store,params:{pack:this.pack.code,platform:this.platform.apiCode,page:this.page+1,isAnimated:null!==(e=this.isAnimated)&&void 0!==e?e:null}}).then((function(e){e.success?(r.mergeCategories(r.category,e.category),r.page=r.page+1,t.loaded()):(t.complete(),r.isLoadedAll=!0)})).catch((function(e){t.complete(),r.isLoadedAll=!0,console.error("fetchNextCategory",e)}))},mergeCategories:function(t,e){e.subcategory.forEach((function(e){var r,sub=t.subcategory.find((function(t){return t.code===e.code}));sub?(r=sub.icons).push.apply(r,Object(n.a)(e.icons)):t.subcategory.push(e)}))},setFilters:function(){if(this.parsedParams){var t=this.parsedParams.color,e=this.colors?this.colors[t||"black"]:{value:"000000",code:"black",title:""};this.platform&&"nolan"!==this.platform.apiCode&&this.setFilterColorGradient(void 0),this.setFilterColor(t),this.setSearchColor(e)}},sendGA:function(){var t=this;this.isLoaded&&setTimeout((function(){t.$analytics.trackIconSearch({term:t.term}),t.isFound?t.$ga.page({page:"/icons/search?query=".concat(t.term,"&style=").concat(t.$route.params.platform,"&category=icons"),title:"Found icons"}):(t.$analytics.track({event:"Nothing found",category:t.$route.params.platform}),t.$ga.page({page:"/icons/not_found?query=".concat(t.term,"&style=").concat(t.$route.params.platform,"&category=icons"),title:"Not found icons"}))}),700)}})},M=(r(1067),Object(y.a)(D,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"search-page app-page-section custom-padding"},[t.isLoaded?[r("app-header",{attrs:{"found-amount":t.countAll,"show-title":!1,"similar-tags":t.similarTags}}),t._v(" "),t.isFound?t._e():r("search-nothing-found"),t._v(" "),t.category&&"category"===t.searchTemplate?r("packPlatformPage",{staticClass:"is-body",attrs:{category:t.category,pack:t.pack,platform:t.platform}}):t._e(),t._v(" "),"icons"===t.searchTemplate?r("div",[r("icon-grid",{attrs:{icons:t.icons,"grid-style":"labels",action:"select","ads-params":{rowAds:5,term:t.term},"ads-params-two":{rowAds:8}}})],1):t._e(),t._v(" "),r("client-only",[r("infinite-loading",{directives:[{name:"show",rawName:"v-show",value:!t.isLoadedAll&&t.isFound,expression:"!isLoadedAll && isFound"}],attrs:{distance:350},on:{infinite:t.fetchNext}},[r("div",{staticClass:"is-loading",attrs:{slot:"spinner"},slot:"spinner"})])],1),t._v(" "),t.isFound?r("app-bottom-info",{attrs:{subtitle:t.pageSubtitle}}):t._e(),t._v(" "),t.isLoadedAll&&t.isFound?r("request-icon",{attrs:{"request-text-extra":t.crossLinkText}}):t._e()]:[r("div",{staticClass:"ph-descr-wrap"},[r("icon-placeholder",{attrs:{type:"filters","aggregated-tags":!0,filters:3,"short-bottom-margin":!0}})],1),t._v(" "),r("icon-placeholder",{attrs:{count:36,type:"icon","icons-heading":!1}})]],2)}),[],!1,null,"071b95af",null));e.default=M.exports},875:function(t,e,r){var content=r(1068);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(7).default)("b61c172c",content,!0,{sourceMap:!1})}}]);
//# sourceMappingURL=_platform.3860e64fa688912a3659.js.map